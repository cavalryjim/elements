<fieldset id="<%= f.object.class.to_s.downcase %>">
  <%= f.hidden_field :attachable_type, :value => f.object.class.to_s %>
  <p>
    <%= f.label :title %><br />
    <%= f.text_field :title %>
  </p>
  <p>
    <%= f.label :description %><br />
    <%= f.text_field :description %>
  </p>
  <p>
    <%= f.label :keywords %><br />
    <%= f.text_field :keywords %>
  </p>
  <p>
    <%= f.label :layout_name %><br />
    <%= f.select :layout_name, [["Standard", 'application'], ["Plain", 'plain'], ["Custom", 'custom']] %>
  </p>
  <p id="custom_layout_content">
    <%= f.label :custom_layout_content %><br />
    <%= f.text_area :custom_layout_content, :rows => 12, :escape => false %>
  </p>
</fieldset>

<script type="text/javascript">
$(document).ready(function() {
  if ($("#page_layout_name").val() != "custom") {
    $("#custom_layout_content").hide();
  }
  $("#page_layout_name").change(function() {
  switch($(this).val()) {
   case 'custom':
    $('#custom_layout_content').fadeIn();
    break;
   default:
    $('#custom_layout_content').fadeOut();
  }
 });
});
</script>
